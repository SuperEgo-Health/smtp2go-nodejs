{"version":3,"file":"index.js","mappings":"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","sources":["webpack://smtp2go-nodejs/webpack/universalModuleDefinition","webpack://smtp2go-nodejs/external commonjs \"axios\"","webpack://smtp2go-nodejs/./src/lib/client.ts","webpack://smtp2go-nodejs/./src/lib/inlineAttachment.ts","webpack://smtp2go-nodejs/./src/lib/mailAttachment.ts","webpack://smtp2go-nodejs/external commonjs \"@babel/runtime/helpers/toConsumableArray\"","webpack://smtp2go-nodejs/external commonjs \"@babel/runtime/helpers/assertThisInitialized\"","webpack://smtp2go-nodejs/external commonjs \"@babel/runtime/helpers/get\"","webpack://smtp2go-nodejs/./src/lib/mailService.ts","webpack://smtp2go-nodejs/./src/lib/service.ts","webpack://smtp2go-nodejs/external commonjs \"@babel/runtime/helpers/asyncToGenerator\"","webpack://smtp2go-nodejs/external commonjs \"@babel/runtime/helpers/classCallCheck\"","webpack://smtp2go-nodejs/external commonjs \"@babel/runtime/helpers/createClass\"","webpack://smtp2go-nodejs/external commonjs \"@babel/runtime/helpers/defineProperty\"","webpack://smtp2go-nodejs/external commonjs \"@babel/runtime/helpers/getPrototypeOf\"","webpack://smtp2go-nodejs/external commonjs \"@babel/runtime/helpers/inherits\"","webpack://smtp2go-nodejs/external commonjs \"@babel/runtime/helpers/possibleConstructorReturn\"","webpack://smtp2go-nodejs/external commonjs \"@babel/runtime/regenerator\"","webpack://smtp2go-nodejs/external commonjs \"mime-types\"","webpack://smtp2go-nodejs/external node-commonjs \"fs\"","webpack://smtp2go-nodejs/external node-commonjs \"path\"","webpack://smtp2go-nodejs/webpack/bootstrap","webpack://smtp2go-nodejs/webpack/runtime/compat get default export","webpack://smtp2go-nodejs/webpack/runtime/define property getters","webpack://smtp2go-nodejs/webpack/runtime/hasOwnProperty shorthand","webpack://smtp2go-nodejs/webpack/runtime/make namespace object","webpack://smtp2go-nodejs/./src/lib/index.ts"],"sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"smtp2go-nodejs\"] = factory();\n\telse\n\t\troot[\"smtp2go-nodejs\"] = factory();\n})(global, () => {\nreturn ","const __WEBPACK_NAMESPACE_OBJECT__ = require(\"axios\");","import BuildsRequest from \"./buildsrequest\";\nimport axios from \"axios\";\nimport packageInfo from '../../package.json';\nexport default class SMTP2GOApiClient {\n  apiKey: string;\n  apiUrl = \"https://api.smtp2go.com/v3/\";\n  headers: Record<string, string> = {};\n\n  constructor(apiKey: string) {\n    this.apiKey = apiKey;\n  }\n\n  setApiKey(apiKey: string) {\n    this.apiKey = apiKey;\n  }\n  setHeaders(headers: any) {\n    this.headers = headers;\n  }\n  getHeaders() {\n    const presetHeaders = {\n      \"Content-Type\": \"application/json\",\n      'X-Smtp2go-Api': 'smtp2go-nodejs',\n      'X-Smtp2go-Api-Version': packageInfo.version,\n    };\n    //combine preset headers with custom headers but don't allow custom headers to overwrite preset headers\n    return { ...this.headers, ...presetHeaders };\n  }\n\n  async consume(service: BuildsRequest): Promise<any> {\n    const body = await service.buildRequestBody();\n    body[\"api_key\"] = this.apiKey;\n    try {\n      const { data } = await axios({\n        method: service.getMethod(),\n        url: this.apiUrl + service.getEndpoint(),\n        headers: this.getHeaders(),\n        data: body,\n      });\n      return data;\n    } catch (error) {\n      return error.response;\n    }\n  }\n}\n","import MailAttachment from \"./mailAttachment\";\nexport default class InlineAttachment extends MailAttachment {\n  constructor(cid: string, filepath: string) {\n    super(filepath);\n    this.filename = cid;\n  }\n}\n","import Attachment from \"./types/attachment\";\nconst fs = require(\"fs\").promises;\nconst mime = require(\"mime-types\");\nconst path = require(\"path\");\nexport default class MailAttachment implements Attachment {\n  filepath: string;\n  filename: string;\n  fileblob: string;\n  mimetype: string;\n  constructor(filepath: string) {\n    this.filepath = filepath;\n    this.mimetype = mime.lookup(this.filepath);\n    this.filename = path.basename(this.filepath);\n    this.fileblob = \"\";\n  }\n  setFileBlob(blob: string): this {\n    this.fileblob = blob;\n    return this;\n  }\n  /**\n   * Get the base64 encoded file content\n   * @returns Promise<string>\n   */\n  async readFileBlob(): Promise<this> {\n    if (this.fileblob != \"\") {\n      return this;\n    }\n    this.fileblob = await fs\n      .readFile(this.filepath, { encoding: \"base64\" })\n      .catch((err: any) => {\n        throw err;\n      });\n    return this;\n  }\n  forSend() {\n    return {\n      filename: this.filename,\n      fileblob: this.fileblob,\n      mimetype: this.mimetype,\n    };\n  }\n}\n","const __WEBPACK_NAMESPACE_OBJECT__ = require(\"@babel/runtime/helpers/toConsumableArray\");","const __WEBPACK_NAMESPACE_OBJECT__ = require(\"@babel/runtime/helpers/assertThisInitialized\");","const __WEBPACK_NAMESPACE_OBJECT__ = require(\"@babel/runtime/helpers/get\");","import MailAttachment from \"./mailAttachment\";\nimport SMTP2GOService from \"./service\";\nimport Address from \"./types/address\";\nimport { AddressCollection } from \"./types/addressCollection\";\nimport { AddressType } from \"./types/addressType\";\nimport Attachment from \"./types/attachment\";\nimport { AttachmentCollection } from \"./types/attachmentCollection\";\nimport Header from \"./types/header\";\nimport { HeaderCollection } from \"./types/headerCollection\";\n\ninterface IAddressTypes {\n  toAddress: AddressCollection;\n  ccAddress: AddressCollection;\n  bccAddress: AddressCollection;\n}\ninterface ICollections {\n  customHeaders: HeaderCollection | Array<Header>;\n  attachments: AttachmentCollection | Array<Attachment>;\n  inlines: AttachmentCollection | Array<Attachment>;\n  toAddress: AddressCollection | Array<Address>;\n  ccAddress: AddressCollection | Array<Address>;\n  bccAddress: AddressCollection | Array<Address>;\n}\ninterface IAttachmentTypes {\n  attachments: AttachmentCollection;\n  inlines: AttachmentCollection;\n}\nexport default class mailService extends SMTP2GOService {\n  htmlBody: string;\n  textBody: string;\n  fromAddress: Address;\n  toAddress: AddressCollection;\n  ccAddress: AddressCollection;\n  bccAddress: AddressCollection;\n  subjectLine: string;\n  templateId: string;\n  templateData: Map<string, string>;\n  customHeaders: HeaderCollection;\n  attachments: AttachmentCollection;\n  inlines: AttachmentCollection;\n  constructor() {\n    super(\"email/send\");\n    [\n      \"toAddress\",\n      \"ccAddress\",\n      \"bccAddress\",\n      \"customHeaders\",\n      \"attachments\",\n      \"inlines\",\n    ].forEach((item) => (this[item as keyof ICollections] = []));\n  }\n  addAddress(address: Address, type?: AddressType) {\n    switch (type) {\n      case \"cc\":\n        this.ccAddress.push(address);\n        break;\n      case \"bcc\":\n        this.bccAddress.push(address);\n        break;\n      case \"to\":\n      default:\n        this.toAddress.push(address);\n        break;\n    }\n    return this;\n  }\n  html(content: string) {\n    this.htmlBody = content;\n    return this;\n  }\n  text(content: string): this {\n    this.textBody = content;\n    return this;\n  }\n  from(from: Address): this {\n    this.fromAddress = from;\n    return this;\n  }\n  template(templateId: string, templateData: Map<string, string>): this {\n    this.templateId = templateId;\n    this.templateData = templateData;\n    return this;\n  }\n  to(toAddress: Address | AddressCollection): this {\n    this._addAddressOfType(toAddress, \"to\");\n    return this;\n  }\n  cc(toAddress: Address | AddressCollection): this {\n    this._addAddressOfType(toAddress, \"cc\");\n    return this;\n  }\n  bcc(toAddress: Address | AddressCollection): this {\n    this._addAddressOfType(toAddress, \"bcc\");\n    return this;\n  }\n  _addAddressOfType(emailAddress: Address | AddressCollection, t: AddressType) {\n    if (Array.isArray(emailAddress)) {\n      emailAddress.map((address) => this.addAddress(address, t));\n    } else {\n      this.addAddress(emailAddress, t);\n    }\n    return this;\n  }\n  headers(header: Header | HeaderCollection): this {\n    if (Array.isArray(header)) {\n      this.customHeaders.push(...header);\n    } else {\n      this.customHeaders.push(header);\n    }\n    return this;\n  }\n  subject(subject: string): this {\n    this.subjectLine = subject;\n    return this;\n  }\n  attach(attachment: Attachment | AttachmentCollection | string): this {\n    if (typeof attachment === \"string\") {\n      this.attachments.push(new MailAttachment(attachment));\n    } else if (Array.isArray(attachment)) {\n      this.attachments.push(...attachment);\n    } else {\n      this.attachments.push(attachment);\n    }\n    return this;\n  }\n  inline(cid: string, filepath: string): this {\n    const inlineAttachment = new MailAttachment(filepath);\n    inlineAttachment.filename = cid;\n    this.inlines.push(inlineAttachment);\n    return this;\n  }\n  getFormattedAddresses(type: AddressType): Array<string> {\n    return this[type + \"Address\" as keyof IAddressTypes].map(this.formatAddress);\n  }\n  formatAddress(address: Address): string {\n    return address?.name\n      ? `${address.name} <${address.email}>`.trim()\n      : `<${address.email}>`.trim();\n  }\n  async buildRequestBody(): Promise<Record<string, string | boolean>> {\n    this.requestBody = new Map();\n    this.requestBody.set(\"html_body\", this.htmlBody);\n    if (this.textBody) {\n      this.requestBody.set(\"text_body\", this.textBody || \"\");\n    }\n    if (this.toAddress.length) {\n      this.requestBody.set(\"to\", this.getFormattedAddresses(\"to\"));\n    } else {\n      throw Error('At least one \"to\" address is required.');\n    }\n    if (this.ccAddress.length) {\n      this.requestBody.set(\"cc\", this.getFormattedAddresses(\"cc\"));\n    }\n    if (this.bccAddress.length) {\n      this.requestBody.set(\"bcc\", this.getFormattedAddresses(\"bcc\"));\n    }\n\n    if (this.fromAddress?.email) {\n      this.requestBody.set(\"sender\", this.formatAddress(this.fromAddress));\n    } else {\n      throw Error(\"A from email address is required.\");\n    }\n\n    this.requestBody.set(\"subject\", this.subjectLine);\n\n    if (this.customHeaders.length) {\n      this.requestBody.set(\"custom_headers\", this.customHeaders);\n    }\n\n    if (this.templateId) {\n      this.requestBody.set(\"template_id\", this.templateId);\n    }\n    if (this.templateData?.size > 0) {\n      this.requestBody.set(\"template_data\", Object.fromEntries(this.templateData));\n    }\n\n    if (this.attachments.length || this.inlines.length) {\n      const promises: any[] = [];\n      [\"attachments\", \"inlines\"].forEach((attachmentType) => {\n        this[attachmentType as keyof IAttachmentTypes].forEach((attachment: MailAttachment) => {\n          promises.push(attachment.readFileBlob());\n        });\n      });\n      await Promise.all(promises).then(() => {\n        [\"attachments\", \"inlines\"].forEach((attachmentType) => {\n          if (this[attachmentType as keyof ICollections].length) {\n            this.requestBody.set(\n              attachmentType,\n              this[attachmentType as keyof IAttachmentTypes].map((attachment: MailAttachment) =>\n                attachment.forSend()\n              )\n            );\n          }\n        });\n      });\n    }\n    return await super.buildRequestBody();\n  }\n}\n","import BuildsRequest from \"./buildsrequest\";\nimport { Method } from \"axios\";\nclass SMTP2GOService implements BuildsRequest {\n  method: Method;\n  endpoint: string;\n  requestBody?: Map<string, any>;\n\n  constructor(\n    endpoint: string,\n    requestBody?: Map<string, string | boolean>,\n    method?: Method\n  ) {\n    this.endpoint = endpoint;\n    this.requestBody = requestBody || new Map();\n    this.method = method || \"POST\";\n  }\n\n  getMethod(): Method {\n    return this.method;\n  }\n\n  getEndpoint(): string {\n    return this.endpoint;\n  }\n\n  async buildRequestBody(): Promise<Record<string, string | boolean>> {\n    return await Promise.resolve(Object.fromEntries(this.requestBody));\n  }\n}\nexport default SMTP2GOService;\n","module.exports = require(\"@babel/runtime/helpers/asyncToGenerator\");","module.exports = require(\"@babel/runtime/helpers/classCallCheck\");","module.exports = require(\"@babel/runtime/helpers/createClass\");","module.exports = require(\"@babel/runtime/helpers/defineProperty\");","module.exports = require(\"@babel/runtime/helpers/getPrototypeOf\");","module.exports = require(\"@babel/runtime/helpers/inherits\");","module.exports = require(\"@babel/runtime/helpers/possibleConstructorReturn\");","module.exports = require(\"@babel/runtime/regenerator\");","module.exports = require(\"mime-types\");","module.exports = require(\"fs\");","module.exports = require(\"path\");","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = (module) => {\n\tvar getter = module && module.__esModule ?\n\t\t() => (module['default']) :\n\t\t() => (module);\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","import SMTP2GOApiClient from \"./client\";\nimport SMTP2GOService from \"./service\";\nimport MailService from \"./mailService\";\nimport MailAttachment from \"./mailAttachment\";\nimport InlineAttachment from \"./inlineAttachment\";\n\nexport { SMTP2GOApiClient as ApiClient };\nexport { SMTP2GOService as Service };\nexport { MailService, MailAttachment, InlineAttachment };\n\nexport default function SMTP2GOApi(apiKey: string) {\n  return {\n    service: function (endpoint: string) {\n      return new SMTP2GOService(endpoint);\n    },\n    mail: function () {\n      return new MailService();\n    },\n    client: function () {\n      return new SMTP2GOApiClient(apiKey);\n    },\n  };\n}\n\n\nexport * from './types/address';\nexport * from './types/addressCollection';\nexport * from './types/addressType';\nexport * from './types/attachment';\nexport * from './types/attachmentCollection';\nexport * from './types/header'; \nexport * from './types/headerCollection';\n\n\n"],"names":["root","factory","exports","module","define","amd","global","require","SMTP2GOApiClient","apiKey","_classCallCheck","_defineProperty","this","_consume","_createClass","key","value","headers","presetHeaders","packageInfo","_objectSpread","_asyncToGenerator","_regeneratorRuntime","_callee","service","body","_yield$axios","data","_context","prev","next","buildRequestBody","sent","axios","method","getMethod","url","apiUrl","getEndpoint","getHeaders","abrupt","t0","response","stop","_x","apply","arguments","InlineAttachment","_MailAttachment","_inherits","_super","_createSuper","cid","filepath","_this","call","filename","MailAttachment","fs","mime","path","mimetype","lookup","basename","fileblob","_readFileBlob","blob","readFile","encoding","err","mailService","_SMTP2GOService","_buildRequestBody","_assertThisInitialized","forEach","item","address","type","ccAddress","push","bccAddress","toAddress","content","htmlBody","textBody","from","fromAddress","templateId","templateData","_addAddressOfType","emailAddress","t","_this2","Array","isArray","map","addAddress","header","_this$customHeaders","customHeaders","_toConsumableArray","subject","subjectLine","attachment","attachments","_this$attachments","inlineAttachment","inlines","formatAddress","name","concat","email","trim","_this$fromAddress","_this$templateData","promises","_this3","requestBody","Map","set","length","getFormattedAddresses","Error","size","Object","fromEntries","attachmentType","readFileBlob","Promise","all","then","forSend","_get","_getPrototypeOf","prototype","SMTP2GOService","endpoint","resolve","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","undefined","__webpack_modules__","n","getter","__esModule","d","a","definition","o","defineProperty","enumerable","get","obj","prop","hasOwnProperty","r","Symbol","toStringTag","SMTP2GOApi","mail","MailService","client"],"sourceRoot":""}